(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{230:function(t,e,n){var content=n(301);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(8).default)("7388ab72",content,!0,{sourceMap:!1})},232:function(t,e,n){var content=n(307);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(8).default)("1f77e74d",content,!0,{sourceMap:!1})},254:function(t,e,n){"use strict";var r={name:"homepage"},o=n(63),c=n(84),l=n.n(c),f=n(413),d=n(417),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("v-main",[e("nuxt")],1)],1)}),[],!1,null,"690e682f",null);e.a=component.exports;l()(component,{VApp:f.a,VMain:d.a})},261:function(t,e,n){"use strict";n(83);var r=n(19),o={data:function(){return{drawer:!0,title:"scrapretty",pages:[{name:"Projects",path:"/projects",icon:"mdi-folder"},{name:"Jobs",path:"/jobs",icon:"mdi-clipboard-list"}],supportLinks:[{title:"Source (GitHub)",url:"https://github.com/innovinati/scrapretty"},{title:"Bug reports",url:"https://github.com/innovinati/scrapretty/issues"},{title:"scrapyd-deploy",url:"https://github.com/scrapy/scrapyd-client#scrapyd-deploy"}],actions:[{text:"Reload",icon:"mdi-reload",callback:function(){return location.reload()}},{text:"Clear local storage",icon:"mdi-delete",callback:function(){localStorage.clear(),location.reload()}}]}},computed:{hosts:function(){return this.$store.state.hosts}},methods:{openTab:function(t){window.open(t,"_blank")}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("init");case 2:case"end":return e.stop()}}),e)})))()}},c=(n(306),n(63)),l=n(84),f=n.n(l),d=n(413),v=n(421),h=n(414),m=n(183),y=n(403),j=n(415),O=n(404),w=n(416),_=n(175),S=n(149),x=n(176),k=n(114),A=n(177),$=n(179),P=n(73),I=n(417),V=n(406),U=n(419),C=n(420),E=n(422),N=n(199),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-navigation-drawer",{attrs:{fixed:"",app:""},scopedSlots:t._u([{key:"append",fn:function(){return[n("span",{staticClass:"px-3"},[t._v("Resources")]),t._v(" "),n("v-list",{attrs:{dense:""}},t._l(t.supportLinks,(function(e,i){return n("v-list-item",{key:i,on:{click:function(n){return t.openTab(e.url)}}},[n("v-list-item-title",[t._v(t._s(e.title))])],1)})),1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",[n("v-list-item",{attrs:{router:"",exact:"","active-class":t.$vuetify.theme.dark?"primary":"primary--text",to:"/dashboard"}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-apps")])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Dashboard")])],1)],1),t._v(" "),t.$store.state.hosts.connected?n("div",[n("v-divider"),t._v(" "),t._l(t.pages,(function(e,i){return n("v-list-item",{key:i,attrs:{router:"",exact:"",to:e.path,"active-class":t.$vuetify.theme.dark?"primary":"primary--text"}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.name))])],1)],1)}))],2):t._e()],1)],1),t._v(" "),n("v-app-bar",{attrs:{fixed:"",app:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),n("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),n("v-spacer"),t._v(" "),t.$store.state.hosts.connected?n("v-chip",{attrs:{color:"primary",dark:"",close:""},on:{"click:close":function(e){return t.$router.push("/dashboard")}}},[n("v-icon",{attrs:{small:""}},[t._v("mdi-server-network")]),t._v(" "),n("span",{staticClass:"mx-1"},[t._v(t._s(t.$store.state.hosts.connected.node_name))])],1):t._e(),t._v(" "),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),n("v-list",t._l(t.actions,(function(e,i){return n("v-list-item",{key:i,on:{click:function(t){return e.callback()}}},[n("v-list-item-avatar",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-title",[t._v(t._s(e.text))])],1)})),1)],1)],1),t._v(" "),n("v-main",[n("v-container",[n("nuxt")],1)],1),t._v(" "),n("v-footer",{attrs:{app:"",fixed:""}},[n("span",[t._v("Â© MIT License")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-switch",{scopedSlots:t._u([{key:"label",fn:function(){return[n("v-img",{attrs:{width:"25px",alt:"Dark Mode",src:"https://www.pngkit.com/png/full/223-2230816_dark-mode-for-safari-on-the-mac-app.png"}})]},proxy:!0}]),model:{value:t.$vuetify.theme.dark,callback:function(e){t.$set(t.$vuetify.theme,"dark",e)},expression:"$vuetify.theme.dark"}})],1)],1)}),[],!1,null,"2de0c0d7",null);e.a=component.exports;f()(component,{VApp:d.a,VAppBar:v.a,VAppBarNavIcon:h.a,VBtn:m.a,VChip:y.a,VContainer:j.a,VDivider:O.a,VFooter:w.a,VIcon:_.a,VImg:S.a,VList:x.a,VListItem:k.a,VListItemAction:A.a,VListItemAvatar:$.a,VListItemContent:P.a,VListItemTitle:P.b,VMain:I.a,VMenu:V.a,VNavigationDrawer:U.a,VSpacer:C.a,VSwitch:E.a,VToolbarTitle:N.a})},270:function(t,e,n){n(271),t.exports=n(272)},300:function(t,e,n){"use strict";n(230)},301:function(t,e,n){(e=n(7)(!1)).push([t.i,"h1[data-v-bfedb7fe]{font-size:20px}",""]),t.exports=e},306:function(t,e,n){"use strict";n(232)},307:function(t,e,n){(e=n(7)(!1)).push([t.i,"a[data-v-2de0c0d7]{text-decoration:none}",""]),t.exports=e},377:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"actions",(function(){return l})),n.d(e,"mutations",(function(){return f}));n(57),n(35),n(21),n(12),n(34),n(30);function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,f=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){f=!0,c=t},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw c}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var c=function(){return{snackbar:{show:!1,text:""},settings:{showUploadNotice:!0}}},l={init:function(t){var e=t.dispatch,n=t.commit,o=JSON.parse(localStorage.getItem("settings"));o&&n("loadSettings",o);var c=JSON.parse(localStorage.getItem("hosts"));if(c){var l,f=r(c);try{for(f.s();!(l=f.n()).done;){e("hosts/loadHost",l.value)}}catch(t){f.e(t)}finally{f.f()}}},changeSetting:function(t,e){var n=t.dispatch;(0,t.commit)("changeSetting",{key:e.key,value:e.value}),n("saveSettings")},saveSettings:function(t){var e=t.state;localStorage.setItem("settings",JSON.stringify(e.settings))}},f={loadSettings:function(t,e){t.settings=e},changeSetting:function(t,e){var n=e.key,r=e.value;t.settings[n]=r}}},378:function(t,e,n){"use strict";n.r(e),n.d(e,"getters",(function(){return c}));n(18),n(32),n(57),n(35),n(21),n(12),n(34),n(30);function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,f=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){f=!0,c=t},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw c}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var c={projectChartData:function(t,e,n){var o,c=[{label:"Jobs",data:[],backgroundColor:[]},{label:"Spiders",data:[],backgroundColor:[]}],l=[],f=r(n.projects.list.filter((function(p){return p.hostUrl===n.hosts.connected.url})));try{var d=function(){var t=o.value;l.push(t.name);var e="rgb(".concat(255*Math.random(),",").concat(255*Math.random(),",").concat(255*Math.random(),")");c[1].data.push(t.spiders.length),c[1].backgroundColor.push(e),c[0].data.push(n.jobs.list.filter((function(e){return e.projectName===t.name})).length),c[0].backgroundColor.push(e)};for(f.s();!(o=f.n()).done;)d()}catch(t){f.e(t)}finally{f.f()}return{datasets:c,labels:l}},chartOptions:function(t){return{legend:{position:"bottom"},tooltips:{callbacks:{label:function(t,data){var label=data.datasets[t.datasetIndex].label||"";return label&&(label+=": ".concat(data.datasets[t.datasetIndex].data[t.index])),label}}}}}}},379:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"actions",(function(){return l})),n.d(e,"mutations",(function(){return f}));n(193),n(194),n(79),n(121),n(22),n(50);var r=n(2);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c=function(){return{list:[],connected:null,loading:!1}},l={addHost:function(t,e){var n=t.state,r=t.dispatch,o=t.commit,c=e.url,l=e.description;o("setLoading",!0),r("loadHost",{url:c,description:l}).then((function(){return localStorage.setItem("hosts",JSON.stringify(n.list))}))},loadHost:function(t,e){t.rootState;var n=t.dispatch,c=t.commit,l=e.url,f=e.description;return this.$axios.$get(l+"/daemonstatus.json",{timeout:3e3}).then((function(t){c("setLoading",!1);var e=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({url:l,description:f},t);c("addHost",e),n("projects/loadProjects",e,{root:!0})})).catch((function(t){c("setLoading",!1);var e=l.split("//")[1].split(":")[0];c("addHost",{url:l,description:f,node_name:e,status:"error"})}))},delHost:function(t,e){var n=t.state,r=t.commit,o=t.dispatch;r("delHost",e),o("projects/delFromHost",e,{root:!0}),localStorage.setItem("hosts",JSON.stringify(n.list))},connect:function(t,e){(0,t.commit)("connect",e)}},f={connect:function(t,e){t.connected=e},disconnect:function(t){t.connected=null},addHost:function(t,e){"ok"===e.status?t.list.unshift(e):t.list.push(e)},delHost:function(t,e){t.list.length>1?t.list.splice(t.list.indexOf(e),1):t.list=[]},setLoading:function(t,e){t.loading=e}}},380:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return v})),n.d(e,"actions",(function(){return h})),n.d(e,"mutations",(function(){return m}));n(18),n(32),n(46),n(38),n(21),n(58);var r=n(2),o=n(43);function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,f=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){f=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(f)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v=function(){return{list:[]}},h={loadJobs:function(t,e){var n=this,r=t.rootState,c=t.state,l=t.commit;c.list.length>0&&l("flush",e),r.projects.list.filter((function(t){return t.hostUrl===e.url})).forEach((function(t){n.$axios.$get(t.hostUrl+"/listjobs.json?project="+t.name).then((function(e){var n=e.running,r=e.pending,c=e.finished,f=[].concat(Object(o.a)(n.map((function(e){return d(d({},e),{},{status:"running",projectName:t.name,hostUrl:t.hostUrl})}))),Object(o.a)(r.map((function(e){return d(d({},e),{},{status:"pending",projectName:t.name,hostUrl:t.hostUrl})}))),Object(o.a)(c.map((function(e){return d(d({},e),{},{status:"finished",projectName:t.name,hostUrl:t.hostUrl})}))));l("loadJobs",f)})).catch((function(t){return console.log(t)}))}))},flush:function(t,e){(0,t.commit)("flush",e)}},m={loadJobs:function(t,e){var n,r=c(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.list.push(o)}}catch(t){r.e(t)}finally{r.f()}},flush:function(t,e){t.list=e?t.list.filter((function(t){return t.hostUrl!==e.url})):[]}}},381:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return l})),n.d(e,"actions",(function(){return f})),n.d(e,"mutations",(function(){return d}));n(18),n(32),n(46),n(79),n(38),n(121),n(21),n(12),n(30),n(58),n(86),n(83);var r=n(19);function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,f=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){f=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(f)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l=function(){return{list:[]}},f={loadProjects:function(t,e){var n=this,o=t.dispatch,c=t.commit;t.state;return this.$axios.$get(e.url+"/listprojects.json").then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(l){var f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=l.projects,t.next=3,Promise.all(f.map(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.t1=e.url,t.next=4,n.$axios.$get(e.url+"/listspiders.json?project="+r).then((function(t){return t.spiders}));case 4:return t.t2=t.sent,t.next=7,n.$axios.$get(e.url+"/listversions.json?project="+r).then((function(t){return t.versions}));case 7:return t.t3=t.sent,t.abrupt("return",{name:t.t0,hostUrl:t.t1,spiders:t.t2,versions:t.t3});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:d=t.sent,c("loadProjects",d),o("jobs/loadJobs",e,{root:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log(t)}))},delProject:function(t,e){t.rootState;var n=t.commit;this.$axios.$get(e.hostUrl+"/delproject.json?project="+e.name).then((function(t){return n("delProject",e)}))},delFromHost:function(t,e){var n=t.state,r=t.dispatch,c=t.commit;r("jobs/flush",e,{root:!0});var l,f=o(n.list.filter((function(p){return p.hostUrl===e.url})));try{for(f.s();!(l=f.n()).done;){c("delProject",l.value)}}catch(t){f.e(t)}finally{f.f()}},scheduleAll:function(t,e){var n=t.dispatch;e.spiders.forEach((function(t){return n("scheduleOne",{project:e,spider:t})}))},scheduleOne:function(t,e){t.dispatch;var n=t.commit,r=t.rootState,c=e.project.hostUrl+"/schedule.json?project="+e.project.name+"&spider="+e.spider;if(e.hasOwnProperty("params")){var l,f=o(e.params);try{for(f.s();!(l=f.n()).done;){var param=l.value;param.key&&param.value&&(c+="&".concat(param.key,"=").concat(param.value))}}catch(t){f.e(t)}finally{f.f()}}this.$axios.$post(c).then((function(t){return n("jobs/loadJobs",r.hosts.connected,{root:!0})})).catch((function(t){return console.log(t)}))}},d={loadProjects:function(t,e){e.forEach((function(p){return t.list.push(p)}))},delProject:function(t,e){t.list.length>1?t.list=t.list.splice(t.list.indexOf(e),1):t.list=[]}}},76:function(t,e,n){"use strict";var r={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(n(300),n(63)),c=n(84),l=n.n(c),f=n(413),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[404===t.error.statusCode?n("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):n("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),n("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"bfedb7fe",null);e.a=component.exports;l()(component,{VApp:f.a})}},[[270,8,3,9]]]);